focus_tree = {
	id = freefrench_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = FRF
		}
	}

	default = no


	###FREE FRANCE PART

	focus = {
		id = FRF_france_libre
		icon = GFX_france_nine
		x = 6
		y = 0
		cost = 3

		available_if_capitulated = yes

		available = {

		}

		completion_reward = {	
			add_political_power = 300
			add_stability = 0.25
			add_equipment_to_stockpile = { type = train_equipment_1 amount = 150 }
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 150
				producer = FRF
			}
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 7000 producer = FRF }
		    add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 600 producer = FRF }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = FRF }
			add_equipment_to_stockpile = { type = anti_air_equipment_1 amount = 500 producer = FRF }
			add_equipment_to_stockpile = { type = anti_tank_equipment_1  amount = 500 producer = FRF }
			add_equipment_to_stockpile = { type = motorized_equipment amount = 500 producer = FRF }
			add_popularity = {
				popularity = 0.15
				ideology = democratic
			}
			custom_effect_tooltip = FRF_france_libre				
		}
	}
	
	focus = {
		id = FRF_gold_reserve
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = { focus = FRF_france_libre }
        # prerequisite = { focus = FRF_intervention_in_west_africa }
		x = 4
		y = 1.5
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SAF_gold_exports
		}
	}

	focus = {
		id = FRF_naval_production
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = FRF_gold_reserve }
		relative_position_id = FRF_gold_reserve
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_navy_reform
				bonus = 1.0
				uses = 2
				category = tp_tech
		}
		539 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}
}

	focus = {
		id = FRF_revive_civilian_construction
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = FRF_gold_reserve }
		x = 6
		y = 2
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			539 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = FRF_rebuild_military_production
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRF_gold_reserve }
		x = 2
		y = 2
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			539 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = FRF_develop_our_resources
		icon = GFX_goal_generic_construction2
		prerequisite = {
			focus = FRF_rebuild_military_production
			focus = FRF_revive_civilian_construction
			# focus = FRF_revive_naval_construction
		}
		x = 4
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			539 = {
				add_resource = {
					type = steel
					amount = 30
				}
				add_resource = {
					type = tungsten
					amount = 20
				}
				add_resource = {
					type = chromium
					amount = 10
				}
			}
		}
	}
	
	focus = {
		id = FRF_research_efforts
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = {
			focus = FRF_france_libre
		}
		relative_position_id = FRF_france_libre
		x = 0
		y = 1
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_to_tech_sharing_group = commonwealth_research
			add_ideas = FRF_national_bureau_of_statistics
		}
	}
	
	focus = {
		id = FRF_refinery_effort
		icon = GFX_goal_generic_army_motorized
		prerequisite = {
			# focus = FRF_research_efforts
			# focus = FRF_develop_our_resources
		}
		x = 2
		y = 0
		cost = 10

		available_if_capitulated = yes

		available = { 
			has_war_with = JAP
		}

		completion_reward = {
			add_ideas = { refinery_effort }			
			add_tech_bonus = {
				name = FRF_rubber
				bonus = 0.5
				uses = 3
				category = synth_resources
			}
		}
	}
	
	focus = {
		id = FRF_intervention_in_west_africa
		icon = GFX_goal_generic_position_armies
		x = 2
		y = 1

		prerequisite = { 
			focus = FRF_france_libre
		}
		relative_position_id = FRF_france_libre
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
			# OR = {
				# has_legitimacy > 80
				date > 1940.8.1
			# }
		}		
		
		bypass = {
			controls_state = 272
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			transfer_state = 786
			transfer_state = 557
			transfer_state = 272
			transfer_state = 556
			transfer_state = 780
			transfer_state = 298
			transfer_state = 779
			transfer_state = 781
			transfer_state = 776
			transfer_state = 777
			transfer_state = 778
			transfer_state = 782
		}
	}

	# focus = {
	# 	id = FRF_intervention_in_central_africa
	# 	icon = GFX_goal_generic_position_armies
	# 	x = 0
	# 	y = 1

	# 	prerequisite = { 
	# 		focus = FRF_intervention_in_west_africa
	# 	}
	# 	relative_position_id = FRF_intervention_in_west_africa
		
	# 	cost = 5
	# 	ai_will_do = {
	# 		factor = 1
	# 	}
	# 	available = {
	# 		# has_legitimacy > 20
	# 		date > 1940.3.5
	# 	}
		
	# 	bypass = {
	# 		controls_state = 539
	# 	}
	# 	cancel_if_invalid = yes
	# 	continue_if_invalid = no
	# 	available_if_capitulated = yes
	# 	completion_reward = {
	# 		transfer_state = 539
	# 		transfer_state = 772
	# 	}
	# }
	focus = {
		id = FRF_intervention_in_madagascar
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1

		prerequisite = { 
			focus = FRF_intervention_in_west_africa
		}
		relative_position_id = FRF_intervention_in_west_africa
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
		# OR = {
		# has_legitimacy > 60
		date > 1941.1.1
		# }
		}
		
		bypass = {
		controls_state = 543

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
		transfer_state = 543
			transfer_state = 295 
			transfer_state = 718 
			transfer_state = 538 
			transfer_state = 768 
			transfer_state = 769 
		}
	}

	focus = {
		id = FRF_reform_our_doctrine
		icon = GFX_france_six
		prerequisite = { focus = FRF_france_libre }
		x = 15
		y = 1
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 50
			# add_tech_bonus = {
			# 	name = FRF_army_reform
			# 	bonus = 1.0
			# 	uses = 3
			# 	category = land_doctrine
			# }

		}
	}

	focus = {
		id = FRF_reequip_our_forces
		icon = GFX_france_seven
		prerequisite = { focus = FRF_reform_our_doctrine }
		x = 11
		y = 2
		cost = 5
 
		available_if_capitulated = yes

		completion_reward = {
		    add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 15000 producer = FRF }
		    add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 1200 producer = FRF }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = FRF }
			add_equipment_to_stockpile = { type = anti_air_equipment_1 amount = 500 producer = FRF }
			add_equipment_to_stockpile = { type = anti_tank_equipment_1  amount = 500 producer = FRF }
			add_equipment_to_stockpile = { type = motorized_equipment amount = 300 producer = FRF }
	    }
	}
	
	focus = {
		id = FRF_colonial_recruitment
		icon = GFX_france_eight
		prerequisite = { focus = FRF_reequip_our_forces }
		x = 11
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_colonial_recruitment
		}
	}

	focus = {
		id = FRF_modernize_our_equipment
		icon = GFX_goal_generic_small_arms
		mutually_exclusive = { focus = FRF_modernize_our_armor_force }
		prerequisite = { focus = FRF_colonial_recruitment }
		x = 10
		y = 4
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_artillery_focus
				bonus = 1.00 
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = FRF_regiment_of_artillery
				bonus = 1.00 
				uses = 1
				category = artillery
			}
			add_tech_bonus = {
				name = FRF_artillery_focus
				bonus = 1.00 
				uses = 1
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
		}
	}
	
	focus = {
		id = FRF_modernize_our_armor_force
		icon = GFX_goal_generic_armys
		mutually_exclusive = { focus = FRF_modernize_our_equipment }
		prerequisite = { focus = FRF_colonial_recruitment }
		x = 12
		y = 4
		cost = 5

		available_if_capitulated = yes
	
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				technology = basic_medium_tank_chassis
			}
			add_tech_bonus = {
				name = FRF_armor
				bonus = 1.00 
				# ahead_reduction = 0.5
				uses = 1
				technology = advanced_medium_tank_chassis
				technology = advanced_heavy_tank_chassis
				technology = improved_medium_tank_chassis
				technology = improved_heavy_tank_chassis
			}
			add_tech_bonus = {
				name = FRF_mechanized_focus
				bonus = 1.00 
				uses = 1
				category = cat_mechanized_equipment
			}
			add_tech_bonus = {
				name = FRF_artillery_focus
				bonus = 1.00 
				uses = 1
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
		}
	}
	
	focus = {
		id = FRF_electronics
		icon = GFX_goal_generic_radar
		prerequisite = { 
		   focus = FRF_modernize_our_equipment 
		   focus = FRF_modernize_our_armor_force
		}
		x = 11
		y = 5

		cost = 5

        available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_walkie_talkie
				bonus = 1.00 
				uses = 2
				category = electronics
			}
		}
	}
	
	focus = {
		id = FRF_air_two_doctrine
		icon = GFX_goal_generic_air_doctrine
	 	prerequisite = { focus = FRF_france_libre }
		x = 18
		y = 1
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			air_experience = 25

			add_tech_bonus = {
				name = FRF_air_doctrine
				bonus = 1.00 
				uses = 3
				category = air_doctrine
			}
		}
	}
	
	focus = {
		id = FRF_fighter_two_focus
		icon = GFX_goal_generic_air_fighter
	 	prerequisite = { focus = FRF_air_two_doctrine }
		x = 0
		y = 1
		cost = 5
		relative_position_id = FRF_air_two_doctrine

		available_if_capitulated = yes

		completion_reward = {
            set_technology = { fighter2 = 1 }
		}
	}
	
	focus = {
		id = FRF_cas_two_focus
		icon = GFX_goal_generic_CAS
		mutually_exclusive = { focus = FRF_naval_bomber_two_focus }
	 	prerequisite = { focus = FRF_fighter_two_focus }
		x = 14
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_cas_focus
				bonus = 1.00
				uses = 1
				technology = cas2
			}
		}
	}
	
	focus = {
		id = FRF_naval_bomber_two_focus
		icon = GFX_goal_generic_air_naval_bomber
		mutually_exclusive = { focus = FRF_cas_two_focus }
	 	prerequisite = { focus = FRF_fighter_two_focus }
		x = 16
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_naval_bomber_focus
				bonus = 1.00
				uses = 1
				technology = naval_bomber2
			}
		}
	}
	
	focus = {
		id = FRF_bomber_two_focus
		icon = GFX_goal_generic_air_bomber
		mutually_exclusive = { focus = FRF_heavy_bomber_two_focus }
	 	prerequisite = {
	 		focus = FRF_cas_two_focus
	 		focus = FRF_naval_bomber_two_focus
	 	}
		x = 16
		y = 4
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_bomber_focus
				bonus = 1.00 
				uses = 1
				technology = tactical_bomber2
			}
		}
	} 
	
	focus = {
		id = FRF_heavy_bomber_two_focus
		icon = GFX_goal_generic_occupy_start_war
		mutually_exclusive = { focus = FRF_bomber_two_focus }
	 	prerequisite = {
	 		focus = FRF_cas_two_focus
	 		focus = FRF_naval_bomber_two_focus
	 	}
		x = 14
		y = 4
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRF_heavy_bomber_focus
				bonus = 1.00 
				uses = 1
				technology = strategic_bomber2
			}
		}
	}
	
	focus = {
		id = FRF_air_squadron
		icon = GFX_goal_generic_air_fighter
		prerequisite = { 
		   focus = FRF_bomber_two_focus
		   focus = FRF_heavy_bomber_two_focus
		}
		x = 15
		y = 5

		cost = 2

        available_if_capitulated = yes
		
		available = {
				SOV = { has_war_with = GER }
            }
 
		completion_reward = {
			custom_effect_tooltip = FRF_fighters
			SOV = { add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 100 producer = FRF } }
		}
	}
	
	focus = {
		id = FRF_marines
		icon = GFX_goal_generic_special_forces
		prerequisite = { 
		   focus = FRF_reform_our_doctrine
		}
		x = 13
		y = 2
		cost = 5

		available_if_capitulated = yes
	
		completion_reward = {
			add_tech_bonus = {
				name = FRF_marines
				bonus = 1.00 
				uses = 1
			    technology = marines2
			}
		}
	}
	# focus = {
	# 	id = FRF_infantry
	# 	icon = GFX_goal_generic_axis_build_infantry
	# 	prerequisite = { focus = FRF_france_libre }
	#     # mutually_exclusive = { 
	# 	#     focus = FRF_tanks
	# 	# 	}
	# 	x = 10
	# 	y = 1
	# 	cost = 1

	# 	available_if_capitulated = yes
	# 	completion_reward = {
	# 		custom_effect_tooltip = FRF_inf_spawn
	# 		load_oob = "FRF_infantry"
	# 	}
	# }

	focus = {
		id = FRF_tanks
		icon = GFX_goal_generic_armys
		prerequisite = { focus = FRF_france_libre }
	    # mutually_exclusive = { 
		# 	focus = FRF_infantry
		# 	}
		x = 11
		y = 1
		cost = 1

		available_if_capitulated = yes

		completion_reward = {
			create_equipment_variant = {
				name = "Improved Medium Tank Chassis"
				type = medium_tank_chassis_2
				parent_version = 0
				modules = {
					main_armament_slot = tank_medium_cannon_2
					turret_type_slot = tank_medium_three_man_tank_turret
					suspension_type_slot = tank_interleaved_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_gasoline_engine
					special_type_slot_1 = tank_radio_2
					special_type_slot_2 = secondary_turret_small_cannon
					special_type_slot_3 = extra_ammo_storage
					special_type_slot_4 = wet_ammo_storage
				}
				upgrades={
					tank_nsb_engine_upgrade=5
					tank_nsb_armor_upgrade=5
				}
			}
			add_equipment_to_stockpile = { type = medium_tank_chassis_2 amount = 300 }
			custom_effect_tooltip = "    "
			# custom_effect_tooltip = FRF_tank_spawn
			custom_effect_tooltip = "Will spawn 4 fully equipped Medium Tanks"
			load_oob = "FRF_tanks"

			custom_effect_tooltip = "    "
			custom_effect_tooltip = FRF_inf_spawn
			load_oob = "FRF_infantry"
		}
	}
		focus = {
			id = FRF_restart_production 
			icon = GFX_goal_generic_construct_mil_factory
			prerequisite = { focus = FRF_rebuild_military_production }
			relative_position_id = FRF_rebuild_military_production
			x = 0
			y = 1
			cost = 5
	
			available_if_capitulated = yes
	
			completion_reward = {
				772 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}

		focus = {
			id = FRF_restart_construction
			icon = GFX_goal_generic_construct_civ_factory
			prerequisite = { focus = FRF_revive_civilian_construction }
			relative_position_id = FRF_revive_civilian_construction
			x = 0
			y = 1
			cost = 5

			ai_will_do = {
				factor = 1000
			}
	
			available_if_capitulated = yes
	
			completion_reward = {
				772 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}

		focus = {
			id = FRF_guinea_bauxite
			icon = GFX_goal_generic_construct_civilian
			prerequisite = { focus = FRF_develop_our_resources }
			relative_position_id = FRF_develop_our_resources
			x = -2
			y = 1
			cost = 5

			ai_will_do = {
				factor = 1000
			}
			available = { owns_state = 780 }
	
			available_if_capitulated = yes
	
			completion_reward = {
				780 = {
					add_resource = {
						type = aluminium
						amount = 34
					}
				}
			}
		}

		focus = {
			id = FRF_rwanda_tungsten
			icon = GFX_goal_generic_construct_civilian
			prerequisite = { focus = FRF_develop_our_resources }
			relative_position_id = FRF_develop_our_resources
			x = 0
			y = 1
			cost = 5

			ai_will_do = {
				factor = 1000
			}
			available = { owns_state = 768 }
	
			available_if_capitulated = yes
	
			completion_reward = {
				768 = {
					add_resource = {
						type = tungsten
						amount = 21
					}
				}
			}
		}

		focus = {
			id = FRF_african_iron
			icon = GFX_goal_generic_construct_civilian
			prerequisite = { focus = FRF_develop_our_resources }
			relative_position_id = FRF_develop_our_resources
			x = 2
			y = 1
			cost = 5
			available = { owns_state = 779 }

			ai_will_do = {
				factor = 1000
			}
	
			available_if_capitulated = yes
	
			completion_reward = {
				780 = {
					add_resource = {
						type = steel
						amount = 6
					}
				}
				778 = {
					add_resource = {
						type = steel
						amount = 5
					}
				}
				773 = {
					add_resource = {
						type = steel
						amount = 7
					}
				}
				779 = {
					add_resource = {
						type = steel
						amount = 6
					}
				}
				781 = {
					add_resource = {
						type = steel
						amount = 2
					}
				}
				556 = {
					add_resource = {
						type = steel
						amount = 3
					}
				}
			}
		}
}
